# CapsulePipeline Visualization ‚Äî –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

## –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–§–∞–∑—ã 1-6)

‚úÖ **–ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–π–ø–ª–∞–π–Ω–∞ CapsuleCore**
- 10 —ç—Ç–∞–ø–æ–≤ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –î–µ—Ç–∞–ª—å–Ω—ã–µ view –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- CRC verification

## –ó–∞–ø—É—Å–∫ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ (macOS 14+, Swift 5.10)

### –ß—Ç–æ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ
- –í `Package.swift` –¥–æ–±–∞–≤–ª–µ–Ω –ø—Ä–æ–¥—É–∫—Ç `.executable(name: "CapsulePipelineDemo")`.
- –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `Sources/CapsulePipelineDemo/CapsulePipelineDemoApp.swift`.
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–∏—Ç–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥ —á–µ—Ä–µ–∑ `ConfigCenter.load(url:)`, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `SNN_CONFIG_PATH` –∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—â–µ—Ç `Configs/baseline.yaml` –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∑–∞–ø—É—Å–∫–∞.

### –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ swift run
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–æ—Ä–µ–Ω—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:  
   ```bash
   cd /path/to/snn_ef
   ```
2. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –£–∫–∞–∂–∏—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥:  
   ```bash
   export SNN_CONFIG_PATH=/absolute/path/to/Configs/baseline.yaml
   ```
   –ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ –∑–∞–¥–∞–Ω–∞, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –∏–∑ –∫–æ—Ä–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.
3. –°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é:  
   ```bash
   swift run CapsulePipelineDemo
   ```
4. –í–æ –≤—Ä–µ–º—è –ø–µ—Ä–≤–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ—Ç `LoggingHub` –∏ `ProcessRegistry` –∏ –≤—ã–≤–µ–¥–µ—Ç –æ–∫–Ω–æ SwiftUI —Å `CapsulePipelineView`.

### –ó–∞–ø—É—Å–∫ –≤ Xcode
1. –û—Ç–∫—Ä–æ–π—Ç–µ `Package.swift` –≤ Xcode (File ‚Üí Open...).
2. –î–æ–∂–¥–∏—Ç–µ—Å—å, –ø–æ–∫–∞ SwiftPM —Å–æ–∑–¥–∞—Å—Ç —Å—Ö–µ–º—ã, –∑–∞—Ç–µ–º –≤—ã–±–µ—Ä–∏—Ç–µ —Å—Ö–µ–º—É `CapsulePipelineDemo`.
3. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞–¥–∞–π—Ç–µ `SNN_CONFIG_PATH` (Product ‚Üí Scheme ‚Üí Edit Scheme ‚Üí Run ‚Üí Arguments ‚Üí Environment Variables).
4. Cmd+R ‚Äî Xcode —Å–æ–±–µ—Ä—ë—Ç –∏ –∑–∞–ø—É—Å—Ç–∏—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π SwiftUI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

> Headless —Ä–µ–∂–∏–º –æ—Å—Ç–∞—ë—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–º —á–µ—Ä–µ–∑ CLI (`capsule-cli`, `energetic-cli`); –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –ø–∞–π–ø–ª–∞–π–Ω–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ CLI (–ø–µ—Ä–µ–¥ UI)

–°–Ω–∞—á–∞–ª–∞ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ backend —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥
export SNN_CONFIG_PATH=/path/to/snn_ef/Configs/baseline.yaml

# –¢–µ—Å—Ç encode
swift run capsule-cli encode "Hello, World!"

# –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ –ø–µ—á–∞—Ç–Ω—É—é —Å—Ç—Ä–æ–∫—É —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –¥–ª–∏–Ω—ã

# –¢–µ—Å—Ç decode (–≤—Å—Ç–∞–≤—å—Ç–µ –≤—ã–≤–æ–¥ encode)
swift run capsule-cli decode "<–≤—ã–≤–æ–¥ encode>"

# –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å "Hello, World!"
```

### 2. –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è UI

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ CapsulePipelineDemo:

#### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ë–∞–∑–æ–≤—ã–π roundtrip
1. –í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç: `Hello, Capsule!`
2. –ù–∞–∂–º–∏—Ç–µ "Execute Pipeline"
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - ‚úÖ –í—Å–µ 10 —ç—Ç–∞–ø–æ–≤ –ø–æ–∫–∞–∑–∞–Ω—ã
   - ‚úÖ CRC Verification: PASS
   - ‚úÖ Recovered text = Input text

#### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ù–∞–≤–∏–≥–∞—Ü–∏—è
1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ pipeline
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏:
   - ‚ñ∂Ô∏è Next: –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç—Ç–∞–ø—É
   - ‚óÄÔ∏è Previous: –≤–æ–∑–≤—Ä–∞—Ç –Ω–∞–∑–∞–¥
   - ‚ñ∂Ô∏è Play: –∞–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ (1.5s –º–µ–∂–¥—É —ç—Ç–∞–ø–∞–º–∏)
   - üîÑ Reset: –≤–æ–∑–≤—Ä–∞—Ç –∫ –Ω–∞—á–∞–ª—É

#### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –î–µ—Ç–∞–ª–∏ —ç—Ç–∞–ø–æ–≤
1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ pipeline
2. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –ª—é–±–æ–≥–æ —ç—Ç–∞–ø–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - Hex dumps –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω—ã
   - Digits —Ç–∞–±–ª–∏—Ü—ã –ø–æ–∫–∞–∑–∞–Ω—ã
   - –ú–µ—Ç—Ä–∏–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω—ã

#### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –†–∞–∑–Ω—ã–µ –≤—Ö–æ–¥—ã
–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–µ–∫—Å—Ç–∞–º–∏:

**–ö–æ—Ä–æ—Ç–∫–∏–π:**
```
Hi
```

**–°—Ä–µ–¥–Ω–∏–π:**
```
The quick brown fox jumps over the lazy dog
```

**–Æ–Ω–∏–∫–æ–¥:**
```
–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä! üåç
```

**–ë–ª–∏–∑–∫–∏–π –∫ –º–∞–∫—Å–∏–º—É–º—É (max_input_bytes=256):**
```
Lorem ipsum dolor sit amet, consectetur adipiscing elit.
Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris.
Nisi ut aliquip ex ea commodo consequat...
```

#### –°—Ü–µ–Ω–∞—Ä–∏–π 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç—Ä–∏–∫
1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ pipeline
2. –í sidebar ‚Üí Metrics Panel:
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ "Total Duration"
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ "Slowest Stage"
   - –°—Ä–∞–≤–Ω–∏—Ç–µ –≤—Ä–µ–º—è —Ä–∞–∑–Ω—ã—Ö —ç—Ç–∞–ø–æ–≤

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ UI pipeline
tail -f Logs/baseline.log | grep ui.pipeline

# –î–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å:
# [info] ui.pipeline: Starting roundtrip pipeline
# [debug] ui.pipeline.input: Input stage: 13 bytes
# [debug] ui.pipeline.block: Block structure: header=7 payload=13 padding=300
# [debug] ui.pipeline.prp: PRP applied: feistel, 10 rounds
# ...
```

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã/–æ–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

### Hex Dumps
- –§–æ—Ä–º–∞—Ç: `ADDRESS | HEX BYTES | ASCII`
- –ü—Ä–∏–º–µ—Ä:
  ```
  00000000 | 00 0D 00 8C 7C 4D 0A 48 | .....|M.H
  ```

### Digits Table
- Grid 10 columns
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç `[index]: digit`
- –î–ª—è –±–æ–ª—å—à–∏—Ö –º–∞—Å—Å–∏–≤–æ–≤: first 50 + last 10

### Energies Distribution
- Min/Max/Mean/Sum
- Top-5 —Å–∞–º—ã—Ö —á–∞—Å—Ç—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- Range: [1..100] –¥–ª—è base=100

### CRC Verification
- ‚úÖ **PASS** (–∑–µ–ª—ë–Ω—ã–π): —Ç–µ–∫—Å—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —Ç–æ—á–Ω–æ
- ‚ùå **FAIL** (–∫—Ä–∞—Å–Ω—ã–π): –æ—à–∏–±–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
  - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è comparison original vs recovered

## Troubleshooting

### UI –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–û—à–∏–±–∫–∞:** "Failed to load configuration"

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `SNN_CONFIG_PATH` –≤ Scheme
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—É—Ç—å –∞–±—Å–æ–ª—é—Ç–Ω—ã–π (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `/`)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:
   ```bash
   ls -la $SNN_CONFIG_PATH
   ```

### –ö–æ–º–ø–∏–ª—è—Ü–∏—è –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç

**–û—à–∏–±–∫–∞:** Type 'PipelineSnapshot' is ambiguous

**–†–µ—à–µ–Ω–∏–µ:** –£–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ ‚Äî —Å—Ç–∞—Ä—ã–π PipelineSnapshot –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω –≤ ConfigPipelineSnapshot

**–û—à–∏–±–∫–∞:** Missing imports

**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–ø—É—Å–∫–∞–π—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é —Å—Ö–µ–º—É `CapsulePipelineDemo`, –≤ –Ω–µ–π —É–∂–µ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã `CapsuleUI` –∏ `SharedInfrastructure`. –ï—Å–ª–∏ —Å–æ–∑–¥–∞—ë—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π target, –¥–æ–±–∞–≤—å—Ç–µ —ç—Ç–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é.

### CRC –≤—Å–µ–≥–¥–∞ fails

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∞–ª—Ñ–∞–≤–∏—Ç –∏–ª–∏ base

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ `Configs/baseline.yaml`:
```yaml
capsule:
  base: 100
  alphabet: "1234567890abcdef..." # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ä–æ–≤–Ω–æ 100 —Å–∏–º–≤–æ–ª–æ–≤
```

### –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞

**–ü—Ä–æ–±–ª–µ–º–∞:** Debug build –º–µ–¥–ª–µ–Ω–Ω—ã–π

**–†–µ—à–µ–Ω–∏–µ:**
1. –í Xcode: Product ‚Üí Scheme ‚Üí Edit Scheme
2. Run ‚Üí Build Configuration ‚Üí Release
3. –ò–ª–∏ —Å–æ–±–µ—Ä–∏—Ç–µ:
   ```bash
   swift build -c release
   ```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (Phase 7)

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ UI:

1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ edge cases:**
   - –ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞
   - –û—á–µ–Ω—å –¥–ª–∏–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ (–±–ª–∏–∑–∫–∞—è –∫ max_input_bytes)
   - –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π UTF-8
   - –°–∏–º–≤–æ–ª—ã –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –∞–ª—Ñ–∞–≤–∏—Ç–∞

2. **Performance profiling:**
   - –û—Ç–∫—Ä—ã—Ç—å Instruments
   - Profile ‚Üí Time Profiler
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å hotspots –≤ PipelineExecutor

3. **UI polish:**
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å spacing/padding
   - –î–æ–±–∞–≤–∏—Ç—å tooltips
   - –£–ª—É—á—à–∏—Ç—å error messages

4. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
   - –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥
   - –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
   - –ó–∞–ø–∏—Å–∞—Ç—å demo video

## Feedback

–ï—Å–ª–∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç:
‚úÖ –û—Ç–º–µ—Ç—å—Ç–µ Phase 7 –∫–∞–∫ completed
‚úÖ –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é (Router integration)

–ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `Logs/baseline.log`
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ CLI –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ backend
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é: `cat $SNN_CONFIG_PATH`

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

–°–º. –æ—Å–Ω–æ–≤–Ω–æ–π README –ø—Ä–æ–µ–∫—Ç–∞.
